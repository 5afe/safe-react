// @flow
import { push } from 'connected-react-router';
import { List, Map } from 'immutable';
import type { Action, Store } from 'redux';
import { NOTIFICATIONS, enhanceSnackbarForAction } from 'src/logic/notifications';
import closeSnackbarAction from 'src/logic/notifications/store/actions/closeSnackbar';
import enqueueSnackbar from 'src/logic/notifications/store/actions/enqueueSnackbar';
import { getAwaitingTransactions } from 'src/logic/safe/transactions/awaitingTransactions';
import { getSafeVersionInfo } from 'src/logic/safe/utils/safeVersion';
import { isUserOwner } from 'src/logic/wallets/ethAddresses';
import { userAccountSelector } from 'src/logic/wallets/store/selectors';
import { getIncomingTxAmount } from 'src/routes/safe/components/Transactions/TxsTable/columns';
import { grantedSelector } from 'src/routes/safe/container/selector';
import { ADD_INCOMING_TRANSACTIONS } from 'src/routes/safe/store/actions/addIncomingTransactions';
import { ADD_SAFE } from 'src/routes/safe/store/actions/addSafe';
import { ADD_TRANSACTIONS } from 'src/routes/safe/store/actions/addTransactions';
import updateSafe from 'src/routes/safe/store/actions/updateSafe';
import { safeParamAddressFromStateSelector, safesMapSelector } from 'src/routes/safe/store/selectors';
import { type GlobalState } from 'src/store/';
import { loadFromStorage, saveToStorage } from 'src/utils/storage';
const watchedActions = [ADD_TRANSACTIONS, ADD_INCOMING_TRANSACTIONS, ADD_SAFE];
declare var sendAwaitingTransactionNotification: (dispatch: Function, safeAddress: string, awaitingTxsSubmissionDateList: List[], notificationKey: string, notificationClickedCb: Function) => any;
declare var notificationsMiddleware: (store: Store<GlobalState>) => any;
export default notificationsMiddleware;